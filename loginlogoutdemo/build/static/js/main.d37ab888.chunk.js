(this.webpackJsonploginlogoutdemo=this.webpackJsonploginlogoutdemo||[]).push([[0],{32:function(e,t,a){e.exports=a(60)},37:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(28),r=a.n(l),c=(a(37),a(3)),u=a(1),i=a(29),m=a(7),s=a(8),g=a(14),h=a(11),d=a(10),b=a(30),E=a.n(b),p=new(function(){function e(){Object(m.a)(this,e)}return Object(s.a)(e,[{key:"checkLogin",value:function(e,t){var a={uname:e,pass:t};return E.a.post("http://localhost:4000/login",a)}}]),e}()),v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(m.a)(this,a),n=t.call(this,e);var o=!0;return null===localStorage.getItem("token")&&(o=!1),n.state={username:"",password:"",loggedIn:o},n.onChange=n.onChange.bind(Object(g.a)(n)),n.LoginForm=n.LoginForm.bind(Object(g.a)(n)),n}return Object(s.a)(a,[{key:"onChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"LoginForm",value:function(e){var t=this;e.preventDefault();var a="",n="",o=this.state,l=o.username,r=o.password;p.checkLogin(l,r).then((function(e){a=e.data.message,n=e.data.role,"Success"===a?(localStorage.setItem("token","shamsh"),localStorage.setItem("name",l),localStorage.setItem("role",n),t.setState({loggedIn:!0})):alert(a)}))}},{key:"render",value:function(){return this.state.loggedIn?o.a.createElement(u.a,{to:"/Admin"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Login Form"),o.a.createElement("form",null,o.a.createElement("label",null,"User Name:"),o.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.state.username,onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement("label",null,"Password:"),o.a.createElement("input",{type:"password",placeholder:"password",name:"password",value:this.state.password,onChange:this.onChange}),o.a.createElement("br",null),o.a.createElement("button",{name:"Login",onClick:this.LoginForm},"Login")))}}]),a}(n.Component),f=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),n=t.call(this,e),localStorage.removeItem("token"),n}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"You hae successfully Lougged out"),o.a.createElement(c.b,{to:"/"},"Log in again"))}}]),a}(n.Component),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(m.a)(this,a),n=t.call(this,e);var o=!0;return null===localStorage.getItem("token")&&(o=!1),n.state={loggedIn:o},n}return Object(s.a)(a,[{key:"render",value:function(){return!1===this.state.loggedIn?o.a.createElement(u.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Hello ",localStorage.getItem("name"),", This is First Page !!!!"),o.a.createElement(c.b,{to:"/SecondPage"},"Go to second page"),o.a.createElement("br",null),o.a.createElement(c.b,{to:"/Logout"},"Logout"))}}]),a}(n.Component),j=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(m.a)(this,a),n=t.call(this,e);var o=!0;return null===localStorage.getItem("token")&&(o=!1),n.state={loggedIn:o},n}return Object(s.a)(a,[{key:"render",value:function(){return!1===this.state.loggedIn?o.a.createElement(u.a,{to:"/"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Hello ",localStorage.getItem("name"),", This is second page !!!!"),o.a.createElement(c.b,{to:"/Admin"},"Go to First page"),o.a.createElement("br",null),o.a.createElement(c.b,{to:"/ThirdPage"},"Go to Third page"),o.a.createElement("br",null),o.a.createElement(c.b,{to:"/Logout"},"Logout"))}}]),a}(n.Component),I=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(m.a)(this,a),n=t.call(this,e);var o=!0;return null===localStorage.getItem("token")&&(o=!1),n.state={loggedIn:o},n}return Object(s.a)(a,[{key:"render",value:function(){return!1===this.state.loggedIn?o.a.createElement(u.a,{to:"/"}):"admin"!==localStorage.getItem("role")?(alert("Only Admin can see this page"),o.a.createElement(u.a,{to:"/SecondPage"})):o.a.createElement("div",null,o.a.createElement("h1",null,"Hello ",localStorage.getItem("name"),", This is Admin page and only Authorize people can see !!!!"),o.a.createElement(c.b,{to:"/Admin"},"Go to First page"),o.a.createElement("br",null),o.a.createElement(c.b,{to:"/SecondPage"},"Go to Second page"),o.a.createElement("br",null),o.a.createElement(c.b,{to:"/Logout"},"Logout"))}}]),a}(n.Component);var k=function(){return o.a.createElement("div",null,o.a.createElement(c.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",component:v}),o.a.createElement(u.b,{path:"/Admin",component:O}),o.a.createElement(u.b,{path:"/Logout",component:f}),o.a.createElement(u.b,{path:"/SecondPage",component:j}),o.a.createElement(u.b,{path:"/ThirdPage",component:I}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.d37ab888.chunk.js.map